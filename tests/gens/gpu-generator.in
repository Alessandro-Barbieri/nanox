#!/bin/bash

cat <<EOF

test_CC="nvcc"

SRC=@SRCDIR@/src
BUILD=@BUILDDIR@/src

common_includes=" 
        -I\$SRC/arch/unix-os \
        -I\$SRC/support \
        -I\$SRC/core \
        -I\$SRC/arch/smp \
        -I\$SRC/arch/gpu \
        -I\$SRC/arch/spu \
	-I/opt/amd64/cuda/include"

common_cflags=""

test_CFLAGS="\$common_includes \$common_cflags"
test_CXXFLAGS="\$common_includes \$common_cflags"

test_LDFLAGS="\$BUILD/core/.libs/libnanox.so -L/opt/amd64/cuda/lib64 -lcudart"
test_ENV="LD_LIBRARY_PATH=\$BUILD/core/.libs:$LD_LIBRARY_PATH"

`@BUILDDIR@/tests/gens/gpu-config-generator`
EOF

