#!/bin/bash

cat <<EOF

SRC=@SRCDIR@/src
BUILD=@BUILDDIR@/src
PLUGINS=@PLUGINSDIRS@
INSTR_CXXFLAGS=@INSTR_CXXFLAGS@

common_includes="-I\$SRC/core -I\$SRC/apis/c -I\$SRC/pms/openmp"

common_cflags="-Wall"

test_CFLAGS="\$common_includes \$common_cflags"
test_CXXFLAGS="\$common_includes \$common_cflags"

test_LDFLAGS="\$BUILD/core/@USEDVERSION@/.libs/libnanox.so \$BUILD/apis/c/@USEDVERSION@/.libs/libnanox-c.so \$BUILD/pms/openmp/@USEDVERSION@/.libs/libnanox-omp.so"
test_ENV="LD_LIBRARY_PATH=\$BUILD/core/@USEDVERSION@/.libs:\$BUILD/apis/c/@USEDVERSION@/.libs/:\$BUILD/pms/openmp/@USEDVERSION@/.libs:\$PLUGINS:$LD_LIBRARY_PATH"

`@SRCDIR@/tests/gens/config.py $*`
EOF

